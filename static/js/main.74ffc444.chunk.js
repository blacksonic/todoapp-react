(this["webpackJsonptodomvc-react"]=this["webpackJsonptodomvc-react"]||[]).push([[0],{25:function(e,t,s){"use strict";s.r(t);var o={};s.r(o),s.d(o,"onLoad",(function(){return N})),s.d(o,"onCreate",(function(){return k})),s.d(o,"onRemove",(function(){return S})),s.d(o,"onUpdate",(function(){return T})),s.d(o,"onCompleteAll",(function(){return _})),s.d(o,"onClearCompleted",(function(){return w}));var n={};s.r(n),s.d(n,"onFilterSelect",(function(){return L}));var a=s(1),r=s(0),c=s(3),d=(s(16),s(5)),i=s(2);const l="all",p="active",h="completed";var m=s(27);const u="LOAD",j="CREATE",b="REMOVE",O="UPDATE_TODO",x="COMPLETE_ALL",C="CLEAR_COMPLETED",f="SELECT_FILTER";function g(e){return e.filter((e=>e.completed))}function v(e){return e.filter((e=>!e.completed))}function y(e,t){switch(t){case l:return[...e];case h:return g(e);case p:return v(e);default:return[...e]}}const E=e=>e.length&&g(e).length===e.length,N=e=>({type:u,todos:e}),k=e=>({type:j,name:e}),S=e=>({type:b,id:e}),T=e=>({type:O,values:e}),_=()=>({type:x}),w=()=>({type:C}),L=e=>({type:f,filter:e}),D=Object(i.b)({todos:(e=[],t)=>{switch(t.type){case u:return[...t.todos];case j:return[...e,{id:Object(m.a)(),name:t.name,completed:!1}];case O:return e.map((e=>e.id===t.values.id?{...e,...t.values}:e));case b:return e.filter((e=>e.id!==t.id));case x:return e.map((t=>({...t,completed:!E(e)})));case C:return v(e);default:return e}},filter:(e=l,t)=>{switch(t.type){case f:return t.filter;default:return e}}}),R={...o,...n},A=e=>({todos:e.todos,filter:e.filter,itemsLeft:v(e.todos).length,completedCount:g(e.todos).length,visibleTodos:y(e.todos,e.filter),areAllCompleted:e.todos.length&&e.todos.every((e=>e.completed))}),U=e=>Object(i.a)(R,e),I=e=>Object(d.b)(A,U)(e),M=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),F={todos:[],filter:l},J="todoapp_todos";class P{static loadTodos(){return JSON.parse(window.localStorage.getItem(J)||"[]")}static storeTodos(e){window.localStorage.setItem(J,JSON.stringify(e))}}class V extends r.Component{constructor(...e){super(...e),this.state={name:""}}handleChange(e){this.setState({name:e.target.value})}handleSubmit(e){"Enter"===e.key&&(this.props.onCreate(this.state.name),this.setState({name:""}))}render(){return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("h1",{children:"todos"}),Object(a.jsx)("input",{className:"new-todo",placeholder:"What needs to be done?",value:this.state.name,onInput:e=>this.handleChange(e),onKeyUp:e=>this.handleSubmit(e),onChange:()=>{},"data-testid":"todo-create"})]})}}const X=I(V);var B=s(4),q=s.n(B);class K extends r.Component{constructor(...e){super(...e),this.state={editing:!1,name:""}}componentDidMount(){this.setState({name:this.props.todo.name})}handleEdit(){this.setState({editing:!0})}handleCompleted(){this.props.onUpdate({id:this.props.todo.id,completed:!this.props.todo.completed})}handleRemove(){this.props.onRemove(this.props.todo.id)}handleChange(e){this.setState({name:e.target.value})}handleBlur(){this.props.onUpdate({id:this.props.todo.id,name:this.state.name}),this.setState({editing:!1})}render(){const{name:e,completed:t}=this.props.todo;return Object(a.jsxs)("li",{className:q()({completed:t,editing:this.state.editing}),"data-testid":"todo-item",children:[Object(a.jsxs)("div",{className:"view",children:[Object(a.jsx)("input",{className:"toggle",type:"checkbox",checked:t,onChange:()=>this.handleCompleted()}),Object(a.jsx)("label",{onDoubleClick:()=>this.handleEdit(),"data-testid":"todo-name",children:e}),Object(a.jsx)("button",{className:"destroy",onClick:()=>this.handleRemove(),"data-testid":"todo-remove"})]}),this.state.editing&&Object(a.jsx)("input",{className:"edit",value:this.state.name,onInput:e=>this.handleChange(e),onBlur:()=>this.handleBlur()})]})}}class W extends r.Component{render(){return Object(a.jsxs)("section",{className:"main",children:[Object(a.jsx)("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:this.props.areAllCompleted,readOnly:!0}),Object(a.jsx)("label",{htmlFor:"toggle-all",onClick:this.props.onCompleteAll}),Object(a.jsx)("ul",{className:"todo-list",children:this.props.visibleTodos.map((e=>Object(a.jsx)(K,{todo:e,onUpdate:this.props.onUpdate,onRemove:this.props.onRemove},e.id)))})]})}}const z=I(W);class G extends r.Component{render(){const e=1===this.props.itemsLeft?"item":"items",t=[{key:l,value:"All"},{key:p,value:"Active"},{key:h,value:"Completed"}];return Object(a.jsxs)("footer",{className:"footer",children:[Object(a.jsxs)("span",{className:"todo-count",children:[Object(a.jsx)("strong",{children:this.props.itemsLeft}),Object(a.jsxs)("span",{children:[" ",e," left"]})]}),Object(a.jsx)("ul",{className:"filters",children:t.map((e=>Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"./#",className:q()({selected:e.key===this.props.filter}),onClick:()=>this.props.onFilterSelect(e.key),children:e.value})},e.key)))}),!!this.props.completedCount&&Object(a.jsx)("button",{className:"clear-completed",onClick:this.props.onClearCompleted,children:"Clear completed"})]})}}const H=I(G);class Q extends r.Component{render(){return Object(a.jsxs)("footer",{className:"info",children:[Object(a.jsx)("p",{"data-testid":"instruction",children:"Double-click to edit a todo"}),Object(a.jsxs)("p",{children:["Created by ",Object(a.jsx)("a",{href:"http://github.com/blacksonic/",children:"blacksonic"})]}),Object(a.jsxs)("p",{children:["Part of ",Object(a.jsx)("a",{href:"http://todomvc.com",children:"TodoMVC"})]})]})}}class Y extends r.Component{componentDidMount(){this.props.onLoad(P.loadTodos())}componentDidUpdate(){P.storeTodos(this.props.todos)}render(){return Object(a.jsxs)("div",{id:"app",children:[Object(a.jsxs)("section",{className:"todoapp",children:[Object(a.jsx)(X,{}),!!this.props.todos.length&&Object(a.jsx)(z,{}),!!this.props.todos.length&&Object(a.jsx)(H,{})]}),Object(a.jsx)(Q,{})]})}}const Z=I(Y);Object(c.render)(Object(a.jsx)(d.a,{store:((e=F)=>Object(i.c)(D,e,M))(),children:Object(a.jsx)(Z,{})}),document.querySelector("app-root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.74ffc444.chunk.js.map