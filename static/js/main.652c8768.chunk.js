(this["webpackJsonptodomvc-react"]=this["webpackJsonptodomvc-react"]||[]).push([[0],{25:function(e,t,s){"use strict";s.r(t);var o={};s.r(o),s.d(o,"onLoad",(function(){return E})),s.d(o,"onCreate",(function(){return N})),s.d(o,"onRemove",(function(){return k})),s.d(o,"onUpdate",(function(){return S})),s.d(o,"onCompleteAll",(function(){return T})),s.d(o,"onClearCompleted",(function(){return _}));var n={};s.r(n),s.d(n,"onFilterSelect",(function(){return w}));var a=s(1),r=s(3),c=(s(16),s(5)),d=s(2);const i="all",l="active",p="completed";var h=s(27);const m="LOAD",u="CREATE",j="REMOVE",b="UPDATE_TODO",O="COMPLETE_ALL",x="CLEAR_COMPLETED",C="SELECT_FILTER";function f(e){return e.filter((e=>e.completed))}function g(e){return e.filter((e=>!e.completed))}function v(e,t){switch(t){case i:return[...e];case p:return f(e);case l:return g(e);default:return[...e]}}const y=e=>e.length&&f(e).length===e.length,E=e=>({type:m,todos:e}),N=e=>({type:u,name:e}),k=e=>({type:j,id:e}),S=e=>({type:b,values:e}),T=()=>({type:O}),_=()=>({type:x}),w=e=>({type:C,filter:e}),L=Object(d.b)({todos:(e=[],t)=>{switch(t.type){case m:return[...t.todos];case u:return[...e,{id:Object(h.a)(),name:t.name,completed:!1}];case b:return e.map((e=>e.id===t.values.id?{...e,...t.values}:e));case j:return e.filter((e=>e.id!==t.id));case O:return e.map((t=>({...t,completed:!y(e)})));case x:return g(e);default:return e}},filter:(e=i,t)=>{switch(t.type){case C:return t.filter;default:return e}}}),D={...o,...n},R=e=>({todos:e.todos,filter:e.filter,itemsLeft:g(e.todos).length,completedCount:f(e.todos).length,visibleTodos:v(e.todos,e.filter),areAllCompleted:e.todos.length&&e.todos.every((e=>e.completed))}),A=e=>Object(d.a)(D,e),U=e=>Object(c.b)(R,A)(e),I=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),M={todos:[],filter:i};var F=s(0);const J="todoapp_todos";class P{static loadTodos(){return JSON.parse(window.localStorage.getItem(J)||"[]")}static storeTodos(e){window.localStorage.setItem(J,JSON.stringify(e))}}class V extends F.Component{constructor(...e){super(...e),this.state={name:""}}handleChange(e){this.setState({name:e.target.value})}handleSubmit(e){"Enter"===e.key&&(this.props.onCreate(this.state.name),this.setState({name:""}))}render(){return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("h1",{children:"todos"}),Object(a.jsx)("input",{className:"new-todo",placeholder:"What needs to be done?",value:this.state.name,onInput:e=>this.handleChange(e),onKeyUp:e=>this.handleSubmit(e),onChange:()=>{},"data-testid":"todo-create"})]})}}const X=U(V);var B=s(4),q=s.n(B);class K extends F.Component{constructor(...e){super(...e),this.state={editing:!1,name:""}}componentDidMount(){this.setState({name:this.props.todo.name})}handleEdit(){this.setState({editing:!0})}handleCompleted(){this.props.onUpdate({id:this.props.todo.id,completed:!this.props.todo.completed})}handleRemove(){this.props.onRemove(this.props.todo.id)}handleChange(e){this.setState({name:e.target.value})}handleBlur(){this.props.onUpdate({id:this.props.todo.id,name:this.state.name}),this.setState({editing:!1})}render(){const{name:e,completed:t}=this.props.todo;return Object(a.jsxs)("li",{className:q()({completed:t,editing:this.state.editing}),"data-testid":"todo-item",children:[Object(a.jsxs)("div",{className:"view",children:[Object(a.jsx)("input",{className:"toggle",type:"checkbox",checked:t,onChange:()=>this.handleCompleted()}),Object(a.jsx)("label",{onDoubleClick:()=>this.handleEdit(),"data-testid":"todo-name",children:e}),Object(a.jsx)("button",{className:"destroy",onClick:()=>this.handleRemove(),"data-testid":"todo-remove"})]}),this.state.editing&&Object(a.jsx)("input",{className:"edit",value:this.state.name,onInput:e=>this.handleChange(e),onBlur:()=>this.handleBlur()})]})}}class W extends F.Component{render(){return Object(a.jsxs)("section",{className:"main",children:[Object(a.jsx)("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:this.props.areAllCompleted,readOnly:!0}),Object(a.jsx)("label",{htmlFor:"toggle-all",onClick:this.props.onCompleteAll}),Object(a.jsx)("ul",{className:"todo-list",children:this.props.visibleTodos.map((e=>Object(a.jsx)(K,{todo:e,onUpdate:this.props.onUpdate,onRemove:this.props.onRemove},e.id)))})]})}}const z=U(W);class G extends F.Component{render(){const e=1===this.props.itemsLeft?"item":"items",t=[{key:i,value:"All"},{key:l,value:"Active"},{key:p,value:"Completed"}];return Object(a.jsxs)("footer",{className:"footer",children:[Object(a.jsxs)("span",{className:"todo-count",children:[Object(a.jsx)("strong",{children:this.props.itemsLeft}),Object(a.jsxs)("span",{children:[" ",e," left"]})]}),Object(a.jsx)("ul",{className:"filters",children:t.map((e=>Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"./#",className:q()({selected:e.key===this.props.filter}),onClick:()=>this.props.onFilterSelect(e.key),children:e.value})},e.key)))}),!!this.props.completedCount&&Object(a.jsx)("button",{className:"clear-completed",onClick:this.props.onClearCompleted,children:"Clear completed"})]})}}const H=U(G);class Q extends F.Component{render(){return Object(a.jsxs)("footer",{className:"info",children:[Object(a.jsx)("p",{"data-testid":"instruction",children:"Double-click to edit a todo"}),Object(a.jsxs)("p",{children:["Created by ",Object(a.jsx)("a",{href:"http://github.com/blacksonic/",children:"blacksonic"})]}),Object(a.jsxs)("p",{children:["Part of ",Object(a.jsx)("a",{href:"http://todomvc.com",children:"TodoMVC"})]})]})}}class Y extends F.Component{componentDidMount(){this.props.onLoad(P.loadTodos())}componentDidUpdate(){P.storeTodos(this.props.todos)}render(){return Object(a.jsxs)("div",{id:"app",children:[Object(a.jsxs)("section",{className:"todoapp",children:[Object(a.jsx)(X,{}),!!this.props.todos.length&&Object(a.jsx)(z,{}),!!this.props.todos.length&&Object(a.jsx)(H,{})]}),Object(a.jsx)(Q,{})]})}}const Z=U(Y);Object(r.render)(Object(a.jsx)(c.a,{store:((e=M)=>Object(d.c)(L,e,I))(),children:Object(a.jsx)(Z,{})}),document.querySelector("app-root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.652c8768.chunk.js.map